{% extends '@App/adminlte/base_layout.html.twig' %}

{% block head_title %}E-System{% endblock head_title %}

{% block styles %}

    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/twbs/bootstrap/3.4.1/css/bootstrap.min.css') }}">
    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/fortawesome/font-awesome/4.7.0/css/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/adminlte/2.4.8/css/adminlte.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/adminlte/2.4.8/css/skins/all-skins.min.css') }}">
    <link href="{{ asset('bundles/mjmcasset/blivesta/animsition/4.0.2/css/animsition.min.css') }}" rel="stylesheet"
          type="text/css">
    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/datatables/datatables/1.10.18/css/datatables-bootstrap3-all-plugins.min.css') }}">

    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/uxsolutions/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css') }}">
    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/snapappointments/bootstrap-select/1.13.11/css/bootstrap-select.min.css') }}">
    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/codeseven/toastr/2.1.4/css/toastr.min.css') }}">
    <link type="text/css" rel="stylesheet"
          href="{{ asset('bundles/mjmcasset/summernote/summernote/0.8.12/css/summernote.css') }}">

    {# google fonts #}
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

    {# custom #}
    <link type="text/css" rel="stylesheet" href="{{ asset('css/calculator.css') }}">

    <link rel="stylesheet" href="{{ asset('css/skin-custom.css') }}">
    <link type="text/css" rel="stylesheet" href="{{ asset('css/custom.css') }}">

{% endblock styles %}

{% block scripts %}

    <script type="text/javascript" src="{{ asset('bundles/mjmcasset/jquery/jquery/3.4.1/js/jquery-3.4.1.min.js') }}"
            defer></script>
    <script type="text/javascript" src="{{ asset('bundles/mjmcasset/twbs/bootstrap/3.4.1/js/bootstrap.min.js') }}"
            defer></script>
    <script type="text/javascript" src="{{ asset('bundles/app/adminlte/2.4.8/js/adminlte.min.js') }}" defer></script>
    <script type="text/javascript" src="{{ asset('bundles/mjmcasset/blivesta/animsition/4.0.2/js/animsition.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/datatables/datatables/1.10.18/js/datatables-bootstrap3-all-plugins.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/uxsolutions/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/uxsolutions/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.es.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/snapappointments/bootstrap-select/1.13.11/js/bootstrap-select.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/plentz/jquery-maskmoney/3.1.1/js/jquery.maskMoney.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/igorescobar/jquery-mask-plugin/1.14.16/js/jquery.mask.min.js') }}"
            defer></script>
    <script type="text/javascript" src="{{ asset('bundles/mjmcasset/codeseven/toastr/2.1.4/js/toastr.min.js') }}"
            defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/summernote/summernote/0.8.12/js/summernote.min.js') }}" defer></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/summernote/summernote/0.8.12/lang/summernote-es-ES.js') }}" defer></script>

    {# custom #}
    <script type="text/javascript" src="{{ asset('js/calculator.js') }}" defer></script>
    <script type="text/javascript" src="{{ asset('js/custom.js') }}" defer></script>
    <script type="text/javascript" src="{{ asset('js/functions.js') }}" defer></script>

    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFZ4rT8ZdNw8TR0eBRw-hV7-qMu8GVTiY"></script>
    <script type="text/javascript"
            src="{{ asset('bundles/mjmcasset/danielemoraschi/maplace.js/0.2.10/js/maplace.min.js') }}" defer></script>

{% endblock scripts %}

{% block header_logo %}

    <a href="{{ path('homepage') }}" class="logo">
        <span class="logo-mini"><img src="{{ asset('/bundles/app/img/logo.svg') }}"></span>
        <span class="logo-lg"><img src="{{ asset('/bundles/app/img/logo.svg') }}"> E-SYSTEM</span>
    </a>

{% endblock header_logo %}

{% block header_widgets %}

    <li class="dropdown messages-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-envelope-o"></i>
            <span class="label label-success"></span>
        </a>
        <ul class="dropdown-menu">
            <li class="header">No tiene nuevos mensajes</li>
            <li class="footer"><a href="#">Ver todos</a></li>
        </ul>
    </li>
    <li class="dropdown notifications-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-bell-o"></i>
            <span class="label label-warning"></span>
        </a>
        <ul class="dropdown-menu">
            <li class="header">No tiene nuevas notificaciones</li>
            <li class="footer"><a href="#">Ver todos</a></li>
        </ul>
    </li>
    <li class="dropdown tasks-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-flag-o"></i>
            <span class="label label-danger"></span>
        </a>
        <ul class="dropdown-menu">
            <li class="header">No tiene nuevas tareas</li>
            <li class="footer">
                <a href="#">Ver todos</a>
            </li>
        </ul>
    </li>
    <li class="dropdown user user-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <img src="{{ asset(app.user.img|default('bundles/app/img/user.png')) }}" class="user-image"
                 alt="User Image">
            <span class="hidden-xs">{{ app.user.fullName|default }}</span>
        </a>
        <ul class="dropdown-menu">
            <li class="user-header">
                <img src="{{ asset(app.user.img|default('bundles/app/img/user.png')) }}" class="img-circle"
                     alt="User Image">
                <p>
                    {{ app.user.fullName|default }}
                    <small>Usuario desde el {{ app.user.createdAt|default ? app.user.createdAt|date('Y/m/d') }}</small>
                </p>
            </li>
            <li class="user-footer">
                <div class="pull-left">
                    <a href="{{ path('user_profile') }}" class="btn btn-default btn-flat"><i class="fa fa-user-o"></i>
                        Perfil</a>
                </div>
                <div class="pull-right">
                    <a href="{{ path('fos_user_security_logout') }}" class="btn btn-default btn-flat"><i
                                class="fa fa-sign-out"></i> Salir</a>
                </div>
            </li>
        </ul>
    </li>

{% endblock header_widgets %}

{% block aside_widgets %}

    <div class="user-panel">
        <div class="pull-left image">
            <img src="{{ asset(app.user.img|default('bundles/app/img/user.png')) }}" class="img-circle"
                 alt="User Image">
        </div>
        <div class="pull-left info">
            <p>{{ app.user.fullName|default }}</p>
            <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
        </div>
    </div>

{% endblock aside_widgets %}

{% block aside_nav %}
    <ul class="sidebar-menu" data-widget="tree">
        <li class="header">MENÚ</li>
        <li><a href="{{ path('homepage') }}" data-role="navigation"><i class="fa fa-home"></i><span> Inicio</span></a>
        </li>
        <li><a href="{{ path('client') }}" data-role="navigation"><i class="fa fa-users"></i><span> Clientes</span></a>
        </li>
        <li><a href="{{ path('product') }}" data-role="navigation"><i class="fa fa-cubes"></i><span> Productos</span></a>
        </li>

        {% if is_granted('ROLE_ADMIN') %}
            <li><a href="{{ path('under_construction', { section: 'website' }) }}" data-role="navigation"><i
                            class="fa fa-desktop"></i><span> Sitio Web</span></a></li>
            <li><a href="{{ path('under_construction', { section: 'report' }) }}" data-role="navigation"><i
                            class="fa fa-area-chart"></i><span> Reportes</span></a></li>
            <li><a href="{{ path('user') }}" data-role="navigation"><i class="fa fa-user-plus"></i><span> Usuarios</span></a>
            </li>
            <li class="treeview">
                <a href="#"><i class="fa fa fa-history"></i> <span> Historiales</span><span class="pull-right-container"><i
                                class="fa fa-angle-left pull-right"></i></span></a>
                <ul class="treeview-menu">
                    <li><a href="{{ path('session_log') }}" data-role="navigation"><i class="fa fa-circle-o"></i> Sesiones</a>
                    </li>
                    <li><a href="{{ path('operation_log') }}" data-role="navigation"><i class="fa fa-circle-o"></i> Operaciones</a>
                    </li>
                </ul>
            </li>
            <li class="treeview">
                <a href="#"><i class="fa fa fa-cogs"></i> <span> Configuraciones</span><span
                            class="pull-right-container"><i
                                class="fa fa-angle-left pull-right"></i></span></a>
                <ul class="treeview-menu">
                    <li><a href="" data-role="navigation"><i class="fa fa-circle-o"></i><span> Métodos de Pago</span></a></li>
                </ul>
            </li>
        {% endif %}

        <li><a href="#" class="calculator-trigger"><i class="fa fa-calculator"></i> <span> Calculadora</span></a></li>
        <li class="treeview">
            <a href="#"><i class="fa fa fa-info-circle"></i> <span> Ayuda</span><span class="pull-right-container"><i
                            class="fa fa-angle-left pull-right"></i></span></a>
            <ul class="treeview-menu">
                <li><a href="{{ path('under_construction', { section: 'faq' }) }}" data-role="navigation"><i
                                class="fa fa-circle-o"></i> Pregustas Frecuentes</a></li>
                <li><a href="{{ path('under_construction', { section: 'manual' }) }}" data-role="navigation"><i
                                class="fa fa-circle-o"></i> Manual de Usuario</a></li>
                <li><a href="{{ path('under_construction', { section: 'about' }) }}" data-role="navigation"><i
                                class="fa fa-circle-o"></i> Acerca de</a></li>
                <li><a href="{{ path('under_construction', { section: 'support' }) }}" data-role="navigation"><i
                                class="fa fa-circle-o"></i> Soporte</a></li>
            </ul>
        </li>
    </ul>
{% endblock aside_nav %}

{% block footer_container %}
    <div class="pull-right hidden-xs">
        Versión: 1.0.0
    </div>
    Copyright &copy; 2020 <strong>E-System</strong>. Todos los derechos reservados.
{% endblock footer_container %}

{% block hidden %}

    {% include '@App/base/calculator.html.twig' %}

    <div id="modal-map" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div id="taxReturn-data" class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h3>Google Maps</h3>
                </div>
                <div class="modal-body">
                    <div id="gmap"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
